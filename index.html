<!DOCTYPE html>
<html>
<head>
  <base href="/hkid_validator/">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="msapplication-config" content='assets/browserconfig.xml'>
  <meta content="IE=Edge" http-equiv="X-UA-Compatible">
  <meta name="description"
    content="HKID Validator used to generate validate Hong Kong Identity Card number. This is Single Page Application (SPA) whuch used Flutter to develop, through this website you would generate validated HKID and validate the HKID.">

  <!-- iOS meta tags & icons -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="Hong Kong Identify Card Generator and Validator">
  <link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon.png">

  <!-- Favicon -->
  <link rel="shortcut icon" href="assets/favicon.png" type="image/x-icon">
  <link rel="icon" href="assets/favicon.png" type="image/png">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16x16.png">
  <link rel="manifest" href="assets/site.webmanifest">
  
  <title>Hong Kong Identify Card Validator and Generator</title>
  <link rel="icon" type="image/png" sizes="32x32" src="assets/favicon.png"/>
  <link href="assets/manifest.json" type="application/json"/>

  <style>
    .container {
      margin: 0;
      padding: 0;
      justify-content: center;
      align-items: center;
      display: flex;
      height: 100vh;
    }
  </style>

</head>
<body style="overflow: hidden">
  <div id="loader" class="container">
    <img src="assets/loading.gif">
  </div>
 
  <!-- Load Flutter bootstrap script (handles both JS and WASM builds) -->
  <script src="flutter_bootstrap.js" type="application/javascript"></script>
  
  <script>
    // Remove loader when Flutter app is ready
    // flutter_bootstrap.js automatically initializes Flutter
    (function() {
      var webLoader = document.getElementById("loader");
      
      function removeLoader() {
        if (webLoader && webLoader.parentNode) {
          webLoader.remove();
        }
      }
      
      // Wait for Flutter to initialize and app to render
      // Check for Flutter app root element (flt-glass-pane or flt-scene-host)
      function waitForFlutterApp() {
        var flutterApp = document.querySelector('flt-glass-pane') || 
                        document.querySelector('flt-scene-host') ||
                        document.querySelector('flt-semantics-host');
        
        if (flutterApp) {
          removeLoader();
        } else {
          // Retry after a short delay
          setTimeout(waitForFlutterApp, 100);
        }
      }
      
      // Start checking after page loads
      window.addEventListener('load', function() {
        // Give Flutter a moment to initialize
        setTimeout(waitForFlutterApp, 500);
        
        // Fallback: Remove loader after max wait time
        setTimeout(removeLoader, 3000);
      });
    })();
  </script>
</body>
</html>
